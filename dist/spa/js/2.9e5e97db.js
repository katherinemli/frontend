(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"3b03":function(e,t,a){},"8b24":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dataLoaded?a("q-page",[a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"some-div"}},[a("q-drawer",{attrs:{width:338,side:"left",overlay:"",behavior:"desktop",bordered:""},model:{value:e.left,callback:function(t){e.left=t},expression:"left"}},[a("q-list",[a("q-item-label",{staticClass:"body",attrs:{header:""}},[a("q-item",[a("q-btn",{attrs:{color:"secondary",label:"Random Choose",clickable:""},on:{click:e.randomChoose}})],1),a("q-item",[a("q-btn",{attrs:{disabled:e.addressSelected.length>8,color:"primary",label:"Create Route",clickable:""},on:{click:e.createRoutePost}})],1)],1),e._l(e.addressSelected,(function(t){return a("q-item",{directives:[{name:"show",rawName:"v-show",value:!e.showRoute,expression:"!showRoute"},{name:"ripple",rawName:"v-ripple"}],key:t.id,attrs:{clickable:""},on:{click:function(a){return e.manualChoose(t)}}},[a("q-item-section",[a("q-item-label",[e._v(e._s(t.location))]),a("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.lat)+", "+e._s(t.long))])],1)],1)})),e._l(e.waypointsApi,(function(t){return a("q-item",{directives:[{name:"show",rawName:"v-show",value:e.showRoute,expression:"showRoute"},{name:"ripple",rawName:"v-ripple"}],key:t.id,attrs:{clickable:""},on:{click:function(a){return e.manualChoose(t)}}},[a("q-item-section",[a("q-item-label",[e._v(e._s(t.Geo.Location))]),a("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.Geo.Lat)+", "+e._s(t.Geo.Long))])],1)],1)})),a("q-item",[a("q-btn",{attrs:{disabled:e.addressSelected.length>8,color:"primary",label:"Clean Choose",clickable:""},on:{click:e.cleanChoose}})],1)],2)],1)],1),a("div",{attrs:{id:"map-wrapper"}},[a("l-map",{ref:"map",staticStyle:{height:"100%"},attrs:{zoom:e.zoom,center:e.center,options:e.mapOptions}},[a("l-tile-layer",{attrs:{url:e.url,attribution:e.attribution}}),e.showRoute?a("l-routing-machine",{attrs:{data:e.addressSelected.map((function(e){return e})),waypoints:e.polyline.map((function(e){return e}))}}):e._e()],1)],1)])]):e._e()},n=[],s=(a("5319"),a("5b81"),a("2699")),l=a("a40a"),i=(a("6cc5"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"none"}},[e.ready?e._t("default"):e._e()],2)}),r=[],c=a("e11e"),d=a.n(c),p=a("5bfd"),u=a("ef62");const h={visible:{type:Boolean,default:!0},data:{type:Array,required:!0},waypoints:{type:Array,required:!0},router:{type:p["IRouter"]},plan:{type:d.a.Routing.Plan},geocoder:{type:p["IGeocoder"]},fitSelectedRoutes:{type:[String,Boolean],default:"smart"},lineOptions:{type:p["LineOptions"]},routeLine:{type:Function},autoRoute:{type:Boolean,default:!0},routeWhileDragging:{type:Boolean,default:!1},routeDragInterval:{type:Number,default:500},waypointMode:{type:String,default:"connect"},useZoomParameter:{type:Boolean,default:!1},showAlternatives:{type:Boolean,default:!1},altLineOptions:{type:p["LineOptions"]}};var m={props:h,name:"LRoutingMachine",data(){return{parentContainer:null,ready:!1,layer:null}},mounted(){this.parentContainer=Object(u["a"])(this.$parent),this.add(),this.ready=!0},beforeDestroy(){return this.layer?this.layer.remove():null},methods:{add(){if(this.parentContainer._isMounted){const{mapObject:e}=this.parentContainer,t=d.a.Routing.control({waypoints:this.waypoints,show:!1,waypointMode:"snap",lineOptions:{styles:[{color:"green",opacity:1,weight:3}]},plan:d.a.Routing.plan(this.waypoints,{createMarker(e,t){const a=`Location: <strong>${t.name}</strong>`;return d.a.marker(t.latLng,{draggable:!0,icon:d.a.icon({iconUrl:"https://scontent.fymy1-2.fna.fbcdn.net/v/t39.30808-6/277559713_10229060095865954_9049664362750812883_n.jpg?_nc_cat=105&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=r8AusFuiJAMAX_nRMPc&_nc_ht=scontent.fymy1-2.fna&oh=00_AT8haQqxTBuLsbHpJAShhztpkPIksmGcaiDg1F951NrYnw&oe=62767D3D",iconSize:[32,37],iconAnchor:[16,37]})}).bindPopup(a)},routeWhileDragging:!0})});t.addTo(e),this.layer=t}}}},y=m,g=(a("a449"),a("2877")),b=Object(g["a"])(y,i,r,!1,null,null,null),w=b.exports,f=a("758b"),_={name:"PageIndex",components:{LMap:s["a"],LTileLayer:l["a"],LRoutingMachine:w},data(){return{left:!0,addressSelected:[{lat:0,long:0}],addressAll:[{lat:0,long:0}],polyline:[],list:["item1","item2","item3"],selected_val:[],options:[{label:"first",value:"first"},{label:"second",value:"second"},{label:"third",value:"third"}],dataLoaded:!1,showRoute:!1,zoom:5,center:Object(c["latLng"])(34.770222,-92.33723),url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',withPopup:Object(c["latLng"])(47.41322,-1.219482),withTooltip:Object(c["latLng"])(47.41422,-1.250482),currentZoom:11.5,iconUrl:"http://leafletjs.com/examples/custom-icons/leaf-green.png",currentCenter:Object(c["latLng"])(47.41322,-1.219482),showParagraph:!1,dynamicSize:[32,37],dynamicAnchor:[16,37],mapOptions:{zoomSnap:.5},routeShow:!1,colorLine:"green",showMap:!0,waypoint:{lat:0,lng:0},waypointsApi:[],waypoints2:[{lat:38.7436056,lng:-.131281}],waypoints:[{lat:38.7436056,lng:-9.2304153},{lat:38.7436056,lng:-.131281}]}},beforeMount(){this.loadData()},methods:{randomChoose(){const e=Math.floor(7*Math.random()+2),t=[];this.showRoute=!1;while(t.length<e){const e=Math.floor(Math.random()*this.addressAll.length)+1;-1===t.indexOf(e)&&(t.push(e),this.addressSelected.push(this.addressAll[e]))}console.log("arreglo:",t),console.log("this.addressSelected:",this.addressSelected),this.showRoute=!1},manualChoose(e){console.log("Response:",e)},cleanChoose(){this.addressSelected=this.addressAll,this.showRoute=!1},loadData(){f["a"].get("/").then((e=>{console.log("se cargo data inicial:",e.data);const t=e.data.map((e=>{const t=e.location.replaceAll("_"," ");return e.location=t,e}));this.addressAll=t,this.addressSelected=this.addressAll,this.dataLoaded=!0})).catch((()=>{}))},createRoutePost(){this.showRoute=!1,f["a"].post("/createRoute/1",this.addressSelected).then((e=>{console.log("responsePost:",e.data.Steps),this.polyline=[],this.waypointsApi=e.data.Steps,e.data.Steps.map((e=>{const t={};return t.latLng=Object(c["latLng"])(e.Geo.Lat,e.Geo.Long),t.name=e.Geo.Location,this.polyline.push(t),e})),console.log("responsePost:",this.polyline),this.showRoute=!0}))}}},v=_,L=a("9989"),R=a("9404"),S=a("1c1c"),q=a("0170"),k=a("66e5"),A=a("9c40"),O=a("4074"),C=a("714f"),M=a("eebe"),P=a.n(M),j=Object(g["a"])(v,o,n,!1,null,null,null);t["default"]=j.exports;P()(j,"components",{QPage:L["a"],QDrawer:R["a"],QList:S["a"],QItemLabel:q["a"],QItem:k["a"],QBtn:A["a"],QItemSection:O["a"]}),P()(j,"directives",{Ripple:C["a"]})},a449:function(e,t,a){"use strict";a("3b03")}}]);